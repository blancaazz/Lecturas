language: node_js

node_js:
    - 14.13.0

env:
    - XUNIT_FILE=shippable/testresults/result.xml


build:
    ci:
        - npm -g install istanbul
        - npm --reporter-option output=shippable/testresults/result.xml test
        # - ./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --ui=bdd --reporter=xunit-file
        # - ./node_modules/.bin/istanbul report cobertura --dir shippable/codecoverage/
# build:
#     ci:
#         - npm -g install mocha
#         - make install
    
#     post_ci:
#         - make test

        #- docker run -t -v $SHIPPABLE_BUILD_DIR:/test blancaazz/lecturas
    # pre_ci_boot:
    #     image_name: blancaazz/lecturas
    #     image_tag: latest
    #     pull: true
    #     env: FOO=bar
    #     options: "-e HOME=/ -t -v $SHIPPABLE_BUILD_DIR:/test blancaazz/lecturas"
        